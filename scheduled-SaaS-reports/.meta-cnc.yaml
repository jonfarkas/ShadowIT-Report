# part of the panhandler application with docs at
# https://github.com/PaloAltoNetworks/panhandler/blob/develop/docs/metadata_configuration.rst

# unique snippet name
name: Shadow-IT_Report
# label used for menu selection
label: Scheduled Shadow-IT Report
description: Used to configure a scheduled Shadow-IT - SaaS Application Usage Report - To be delivered each week

# type of device configuration
# common types are panorama, panos, and template
type: panos
# preload static or default-based templates
extends:

# grouping of like snippets for dynamic menu creation in panhandler
label:
    collection:
       SaaS

# variables used in the configuration templates
# type_hint defines the form field used by panhandler
# type_hints can be text, ip_address, or dropdown
variables:

# Email Server Settings
  - name: server-name
    description: Email Server Friendly Name
    default: ServerName
    type_hint: Friendly Name for Email Server
  - name: from-name
    description: From Name
    default: SaaS Usage Report
    type_hint: Email from Name
  - name: from-address
    description: Source Email Address
    default: from@address.com
    type_hint: Source Email Address
  - name: to-address
    description: Email Recipient Address
    default: to@address.com
    type_hint: Address to send the Shadow-IT Report to
  - name: server-address
    description: Email Server Address or FQDN
    default: x.x.x.x
    type_hint: Email Server IP Address or FQDN

# Email Scheduler Variables
  - name: report-group
    description: PDF Report Group
    default: 7-Days
    type_hint: dropdown
    dd_list:
      -  key: 7-Days
         - value: 7-Day-SaaS-Detailed
       - key: 30-Days
         - value: 30-Day-SaaS-Detailed

# Reports Variables


snippets:
  - name: email-scheduler
    xpath: /config/shared/email-scheduler
    file: email-scheduler.xml
  - name: mailserver
    xpath: /config/shared/log-settings/email
    file: mailserver.xml
  - name: reports
    xpath: /config/shared/report-group
    file: reports.xml